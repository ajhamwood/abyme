<!doctype html>
<html lang="en">
<head>
  <title>Mise en abyme</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="keywords" content="video feedback, feedback loop, abyme, mise en abyme">
  <meta name="description" content="Video feedback toy.">
  <link rel="shortcut icon" href="data:image/png;base64,">
  <link rel="stylesheet" href="abyme.css">
</head>
<body>
  <template id="display">
    <div class="modal">
      <div>
        <h1>Mise en abyme</h1>
        <p>If you've ever linked up a camera and a tv in a loop, or seen a painting within a painting within a painting, then you know what mise en abyme - "place into an abyss" - is.</p>
        <h2>How to use</h2>
        <p>Open this page in two tabs (or windows). This tab will act as the display, while the other will be the controls.</p>
        <hr>
        <p>If you have opened this page as a remote control window, enter your matchword below.</p>
        <input id="matchword-answerer" type="text" placeholder="matchword">
        <span id="connecting-msg" class="hide">Waiting&nbsp;for&nbsp;answer&nbsp;"<span id="msg-matchword"></span>"<span></span></span>
      </div>
    </div>
    <canvas id="content"></canvas>
    <svg id="filters">
      <filter id="glow">
        <feColorMatrix in="SourceGraphic" type="matrix"	values="1 0 0 0 0.02, 0 1 0 0 0.02, 0 0 1 0 0.02, 0 0 0 1 0"/>
      </filter>
    </svg>
  </template>
  <template id="ui">
    <div class="modal">
      <div>Exit remote window to return to local controls.</div>
    </div>
    <nav>
      <div id="menu">&#9776;</div>
      <div id="menu-options">
        <div id="theme">Theme</div>
        <div id="theme-options">
          <div data-theme="white" class="selected">White</div>
          <div data-theme="black">Black</div>
          <div data-theme="glow">Glow</div>
          <div data-theme="mirrorwhite">Mirror&nbsp;white</div>
          <div data-theme="mirrorblack">Mirror&nbsp;black</div>
          <div data-theme="mirrorglow">Mirror&nbsp;glow</div>
        </div>
        <div id="uitheme">UI&nbsp;theme</div>
        <div id="uitheme-options">
          <div data-uitheme="day" class="selected">Day</div>
          <div data-uitheme="night">Night</div>
        </div>
        <div id="connection">Connection</div>
        <div id="connection-options">
          <div data-connection="local" class="selected">Local</div>
          <div data-connection="remote"
            ><span>Remote</span>
            <input id="matchword-offerer" type="text" class="hide" placeholder="matchword">
            <span id="connecting-msg" class="hide">Waiting&nbsp;for&nbsp;answer&nbsp;"<span id="msg-matchword"></span>"<span></span></span>
          </div>
        </div>
      </div>
    </nav>
    <div id="uniformity">
      <div id="uniform" class="selected">Uniform</div>
      <div id="nonuniform">Non&#8209;uniform</div>
    </div>
    <svg id="transformer" class="hide">
      <rect x="0" y="0" stroke="#000" stroke-width="1" fill="transparent"/>
      <polygon stroke="#00f" stroke-width="1" fill="transparent"/>
      <circle id="c01" fill="#f00" r="5"/>
      <circle id="c00" fill="#f00" r="5"/>
      <circle id="c11" fill="#f00" r="5"/>
      <circle id="c10" fill="#f00" r="5"/>
    </svg>
  </template>
  <template id="outofrange">
    <div class="modal">Too many tabs!</div>
  </template>
  <template id="remote-js">
    <script src="remote.js"></script>
  </template>
  <template id="display-js">
    <script src="display.js"></script>
  </template>
  <template id="ui-js">
    <script src="ui.js"></script>
  </template>
  <script src="loader.js"></script>
</body>
</html>
